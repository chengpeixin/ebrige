{"id":"../src/core/obser.ts","dependencies":[{"name":"/home/xpc/myProject/vue-brige/eBrige/tsconfig.json","includedInParent":true,"mtime":1560421872162},{"name":"/home/xpc/myProject/vue-brige/eBrige/package.json","includedInParent":true,"mtime":1562730892606},{"name":"./../helpers/util","loc":{"line":19,"column":27},"parent":"/home/xpc/myProject/vue-brige/eBrige/src/core/obser.ts","resolved":"/home/xpc/myProject/vue-brige/eBrige/src/helpers/util.ts"},{"name":"./../helpers/data","loc":{"line":20,"column":41},"parent":"/home/xpc/myProject/vue-brige/eBrige/src/core/obser.ts","resolved":"/home/xpc/myProject/vue-brige/eBrige/src/helpers/data.ts"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _util = require(\"./../helpers/util\");\n\nvar _data = require(\"./../helpers/data\");\n\nvar __assign = void 0 && (void 0).__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n/*\n * @Description: 提供一个经过观察的对象\n * @Author: 惜纸\n * @Date: 2019-08-16 11:37:42\n * @LastEditTime: 2019-08-16 17:37:56\n * @LastEditors: Please set LastEditors\n */\n\n\nvar CreateOb =\n/** @class */\nfunction () {\n  function CreateOb(callId, requestData) {\n    this.initObData(callId, requestData);\n    this.observe(callId);\n  }\n\n  CreateOb.prototype.initObData = function (callId, requestData) {\n    this.defaultObParams = __assign({}, _data.defaultObParams, {\n      request: {\n        requestData: requestData,\n        requestTime: (0, _data.getDate)()\n      }\n    });\n    window[callId] = Object.create(null);\n  };\n\n  CreateOb.prototype.observe = function (callId) {\n    var _this = this;\n\n    var defaultObParams = this.defaultObParams;\n    var obData = window[callId];\n\n    var _loop_1 = function _loop_1(key) {\n      Object.defineProperty(obData, key, {\n        get: function get() {\n          return defaultObParams[key];\n        },\n        set: function set(newVal) {\n          if (key === 'request') return;\n          defaultObParams[key] = newVal;\n\n          if ((0, _util.isFunction)(_this.cb)) {\n            _this.cb(defaultObParams, key, newVal);\n          }\n        },\n        enumerable: true,\n        configurable: true\n      });\n    };\n\n    for (var key in this.defaultObParams) {\n      _loop_1(key);\n    }\n  };\n\n  CreateOb.prototype.onRechanged = function (cb) {\n    this.cb = cb;\n  };\n\n  return CreateOb;\n}();\n\nvar _default = CreateOb;\nexports.default = _default;"},"sourceMaps":null,"error":null,"hash":"c165cf2ab0939d8919583f9e7ecbc9b4","cacheData":{"env":{}}}